<mat-drawer-container class="team-dashboard-view-container" autosize>
    <mat-drawer #drawer mode="over">
        <div>
            <mat-card>
                <mat-card-title class="server-list-title"># of Teams | Servers</mat-card-title>
            </mat-card>
            <div class="server-list">
                <mat-list role="list">
                    <mat-list-item [@fadeInAnim]="this.drawer._animationState === 'open' ? 'closed' : 'open'"  *ngFor="let server of teamFilters; trackBy: trackByFn"
                                   role="listitem">
                        <button mat-raised-button
                                id="number-of-teams-{{server.value.id}}"
                                class="number-of-teams"
                                disabled="true">{{server.numberOfTeams}}</button>
                        <button mat-raised-button
                                id="clash-bot-teams-{{server.value.id}}"
                                (click)="filterTeam(server.value)"
                                [disabled]="server.state">
                            <div class="server-list-item">
                                <mat-icon class="server-icon">discord</mat-icon>{{server.value.name}}
                            </div></button>
                    </mat-list-item>
                </mat-list>
            </div>
        </div>
    </mat-drawer>
    <div class="server-filter-container">
        <mat-icon>discord</mat-icon>
        <h2 id="selected-server">{{selectedServer.name}}</h2>
        <button mat-mini-fab
                id="change-server-btn"
                #tooltip="matTooltip"
                matTooltip="Click to change Servers"
                (click)="drawer.toggle()">
            <mat-icon>filter_list</mat-icon>
        </button>
    </div>
    <div class="free-agent-team-container">
        <button [@inOutAnimation]="freeAgent" [color]="freeAgent ? 'primary' : 'accent'" mat-raised-button class="free-agent-team-btn" (click)="swap()">
            <mat-icon>swap_horizontal_circle</mat-icon>
            <div *ngIf="!freeAgent">Swap to Discord Server Teams</div>
            <div *ngIf="freeAgent">Swap to Free Agent Teams</div>
        </button>
    </div>
    <app-teams-tentative-table [tentativeList]="tentativeList"
                               [tentativeDataStatus]="tentativeDataStatus"
                               (register)="tentativeRegister($event)"></app-teams-tentative-table>
    <div class="team-cards" *ngIf="!showSpinner; else elseBlock">
        <app-team-card *ngFor="let team of teams; index as i;"
                       id="clash-bot-teams-card-{{team.id}}"
                       [team]="team"
                       class="team-card" (registerUser)="registerForTeam($event)"
                       (unregisterUser)="unregisterFromTeam($event)"></app-team-card>
        <app-new-team-card
                *ngIf="canCreateNewTeam"
                [eligibleTournaments]="eligibleTournaments"
                (createNewTeamEvent)="createNewTeam($event)"></app-new-team-card>
    </div>
    <ng-template #elseBlock>
      <mat-progress-bar mode="query"></mat-progress-bar>
    </ng-template>
</mat-drawer-container>
